<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RavenS</title>
    @entryPointStyles('app')
    @entryPointScripts('app')
  </head>
  <body>
    <main class="">
      @!component('components/navbar')
      @can('post:view', post)
      
            <div class="relative flex justify-items-center object-center w-1/2 grid top-32 float-right gap-2">
              <div>
              @can('post:delete', post)
                <a href="{{ route('posts.edit', [post.id]) }}" class="duration-200 mr-3 relative py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white text-gray-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-700">
                  Supprimer
                </a>  
              @end

              @can('post:edit', post)
                <a href="{{ route('posts.destroy', [post.id]) }}" class="duration-200 mr-3 relative py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-slate-700 hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-700">
                  Modifier
                </a>  
            @end
              </div>
            </div>
            <div class="relative flex justify-items-center grid top-32 w-full"> 
                <h1>{{ post.title }} </h1>
                <div id="firstDiv"> {{{ post.content }}}</div>   
            </div>   

      @end
      @cannot('post:view', post)
          <div class="relative flex justify-items-center grid top-32 w-full reveal "> 
            <h1 class="text-3xl">Pas autorisé !</h1>
            <div id="firstDiv">Nous sommes désolé, mais vous n'avez pas accès à ce post :'(</div>   
          </div>    
      @end
    </main>
    <script> 
    function myFunction(e) {
                console.log(e);
                let parser = new DOMParser();
                let doc = parser.parseFromString(str, 'text/html');
                return doc.body;
            }
    </script>
  </body>
</html>
